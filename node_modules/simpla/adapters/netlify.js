!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.SimplaNetlify=t()}(this,function(){"use strict";function n(n){var t=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];n.apply(void 0,e)&&window.removeEventListener("message",t,!1)};window.addEventListener("message",t,!1)}function t(){return["toolbar=no","location=no","directories=no","status=no","menubar=no","scrollbars=no","resizable=no","copyhistory=no","width=960","height=600","top="+(screen.height/2-300),"left="+(screen.width/2-480)].join(",")}function e(){return new Promise(function(t,e){n(function(n){var i,r;if(n.origin!==o)return!1;var c;return c=n.data.match(new RegExp("^"+u+":("+a+"|"+s+"):(.+)$")),r=c[1],i=c[2],i=JSON.parse(i),r===s?e(new Error(i)):t(i),!0})})}function i(t){return new Promise(function(e){n(function(n){if(n.data===r&&n.origin===o)return t.postMessage(n.data,n.origin),e(),!0})})}var o="https://api.netlify.com",r="authorizing:github",u="authorization:github",a="success",s="fail",c=function(n){var t=n.site;this._authUrl=o+"/auth?scope=repo&provider=github&site_id="+t+".netlify.com"};return c.prototype.authenticate=function(){var n=window.open(this._authUrl,"_blank",t()),o=i(n).then(e);return n.focus(),o.then(function(){return n.close()}),o},c});
